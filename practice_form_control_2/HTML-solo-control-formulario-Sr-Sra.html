<!DOCTYPE html>
<html><head><title>Controlando elementos de un formulario</title><meta charset="utf-8">
<style type="text/css"> body {margin-left:30px; font-family: sans-serif;} h4 {margin:0;} div {float:left;}
.estiloForm, #encuadraImagen, #datos {background-color: #f3f3f3; border: solid 2px black; margin-left:10px; width:300px; }
.estiloForm { width: 330px; padding:10px;} #datos {margin-top: 20px; height:226px; padding:10px;}
#encuadraImagen {width:100px; height:100px;   text-align:center;}
.estiloForm label {display: block; width: 120px; float: left; text-align:right; margin-bottom: 35px; padding-right: 20px;}
br {clear: left;} input[type="submit"], input[type="reset"] {margin:25px 5px 10px 5px;}
img{
    max-width: 100px;
}
</style>

</head>
<body><h2>Controlando Elementos</h2><h3>Examen JavaScript</h3>
    <div class="estiloForm">
    <form name ="formularioContacto" method="get" action="#">
        <label>Tratamiento</label>
        <input type="radio" name="tratamiento" id="tratarSr" value="Sr."/>Sr.
        <input type="radio" name="tratamiento" id ="tratarSra" value="Sra."/>Sra.<br/>
        <label>Nombre</label><input id="nombre" name="nombre" type="text"/><br/>
        <label>Apellidos</label><input id="apellidos" name="apellidos" type="text"/><br/>
        <label>Direccion</label><input id="direccion1" name="direccion1" type="text"/><br/>
        <label>Ciudad</label><select id="ciudad" name="ciudad">
            <option value="">Elija opcion</option>
            <option value="Madrid">Madrid (ES)</option>
            <option value="Berlin">Berlin (D)</option>
            <option value="Paris">Paris (F)</option>
        </select><br/>
        <label>Preferencias</label><input name="Libros" id ='libros' type="checkbox" value='Libros'/>Libros
        <input name="Peliculas"  id='peliculas' type="checkbox" value='Peliculas'/>Peliculas
        <input type="button" value="Enviar" onclick='informe()'/> <input type="reset" value="Cancelar"/>
    </div>
    <div style="float:left;">
    <div id="encuadraImagen"><img id='rostro' src='' alt="?"></div><br/>
    <div id="datos" style="float:left;"><h4> Datos introducidos: </h4><textarea id='datosfinales' cols='35' rows='12'></textarea></div>
    </form>
    </div>

    <script>
        //A partir del código HTML dado, “propuesta-control-formulario”, desarrollar el código javascript que permita capturar la información
        //introducida por los clientes. Cuando se pulse enviar, se deberá visualizar en el textarea la información obtenida y la foto asociada para Sr. o Sra..
        
        function informe(){
            let msg = "";

            let img = document.getElementById('rostro');

            let trataSr = document.getElementById("tratarSr");
            let trataSra = document.getElementById("tratarSra");
            if(trataSr.checked){
                msg = trataSr.value;
                img.src = "./img/" + trataSr.value + "png";
            }
            if(trataSra.checked){
                msg = trataSra.value;
                img.src = "./img/" + trataSra.value + "png";
            }

            let nombre = document.getElementById("nombre").value
            msg += " " + nombre;

            let apellidos = document.getElementById("apellidos").value
            msg += " " + apellidos + ".\n";

            let direccion = document.getElementById("direccion1").value
            msg += "Dirección: " + direccion + ".\n";

            let ciudad = document.getElementById("ciudad");
            let ciudadChoice = ciudad.options[ciudad.selectedIndex].value;
            msg += "Ciudad: " + ciudadChoice + ".\n";

            msg += "Preferencias: ";
            let libros = document.getElementById("libros");
            if(libros.checked){
                msg += "libros";
            }
            let peliculas = document.getElementById("peliculas");
            if(peliculas.checked){
                msg += " peliculas";
            }

            document.getElementById("datosfinales").value = msg;
        }
    </script>
</body>
</html>